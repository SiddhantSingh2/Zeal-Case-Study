version: 2

models:
  - name: fact_marketing_performance
    description: Marketing spend and first-deposit revenue aggregated by campaign and channel.
    # Data Contract
    config:
      contract:
        enforced: true

    columns:
      - name: channel
        data_type: string
        description: Marketing channel
        tests:
          - not_null

      - name: campaign_name
        data_type: string
        description: Campaign name
        tests:
          - not_null

      - name: total_spend_usd
        data_type: numeric
        description: Total marketing spend in USD

      - name: first_deposit_revenue
        data_type: numeric
        description: Total revenue from first-time deposits

      - name: roas
        data_type: float
        description: Return on Ad Spend (first_deposit_revenue / total_spend_usd)